{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_eHSvO4TLSWTzYqCyrvJFZTIkNtmC5qY8lR5EzJI3CtDw9iWFM8sR8B3RRNgqKKtM';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\n\nexport const fetchBreeds = () => {\n  return axios.get(`${BASE_URL}/breeds`).then(res => {\n    return res.data;\n  });\n};\n\nexport const fetchCatByBreed = breedId => {\n  return axios\n    .get(`${BASE_URL}/images/search?breed_ids=${breedId}`)\n    .then(res => {\n      return res.data;\n    });\n};\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SlimSelect from 'slim-select';\n\nconst refs = {\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n};\n\nfetchBreeds()\n  .then(data => onSuccess(data))\n  .catch(() => {\n    refs.select.classList.add('hidden');\n    onError();\n  });\n\nfunction handleSelectSubmit(e) {\n  refs.loader.classList.remove('hidden');\n  refs.catInfo.classList.add('hidden');\n  fetchCatByBreed(e.target.value)\n    .then(data => {\n      if (data.length === 0) {\n        refs.loader.classList.add('hidden');\n        throw new Error();\n      }\n      refs.catInfo.classList.remove('hidden');\n      refs.loader.classList.add('hidden');\n      refs.catInfo.innerHTML = catInfoMarkup(data);\n    })\n    .catch(() => onError());\n}\n\nfunction catInfoMarkup(data) {\n  return data\n    .map(el => {\n      return `<div class=\"img-wrap\"><img src=${el.url} alt=${el.breeds[0].name} ></div>\n  <div class=\"content\">\n    <h2>${el.breeds[0].name}</h2>\n    <p>${el.breeds[0].description}</p>\n    <p><span>Temperament:</span> ${el.breeds[0].temperament}</p>\n  </div>`;\n    })\n    .join('');\n}\n\nfunction onSuccess(data) {\n  refs.loader.classList.add('hidden');\n  refs.select.classList.remove('hidden');\n  const selectData = data.map(el => {\n    return { text: el.name, value: el.id };\n  });\n  new SlimSelect({\n    select: '.breed-select',\n    data: selectData,\n    settings: {\n      placeholderText: 'Custom Placeholder Text',\n      searchPlaceholder: 'Search your breed!',\n    },\n  });\n  refs.select.addEventListener('change', handleSelectSubmit);\n}\n\nfunction onError() {\n  iziToast.error({\n    title: 'Error',\n    message: `Oops! Something went wrong! Try reloading the page!`,\n    layout: 2,\n    position: 'topLeft',\n    transitionIn: 'fadeInRight',\n    transitionOut: 'fadeOutLeft',\n  });\n}\n"],"names":["axios","BASE_URL","fetchBreeds","res","fetchCatByBreed","breedId","refs","data","onSuccess","onError","handleSelectSubmit","e","catInfoMarkup","el","selectData","SlimSelect","iziToast"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,MAAMC,EAAW,+BAEJC,EAAc,IAClBF,EAAM,IAAI,GAAGC,UAAiB,EAAE,KAAKE,GACnCA,EAAI,IACZ,EAGUC,EAAkBC,GACtBL,EACJ,IAAI,GAAGC,6BAAoCI,GAAS,EACpD,KAAKF,GACGA,EAAI,IACZ,ECbCG,EAAO,CACX,OAAQ,SAAS,cAAc,eAAe,EAC9C,QAAS,SAAS,cAAc,WAAW,EAC3C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAJ,EAAa,EACV,KAAKK,GAAQC,EAAUD,CAAI,CAAC,EAC5B,MAAM,IAAM,CACXD,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCG,GACJ,CAAG,EAEH,SAASC,EAAmBC,EAAG,CAC7BL,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCA,EAAK,QAAQ,UAAU,IAAI,QAAQ,EACnCF,EAAgBO,EAAE,OAAO,KAAK,EAC3B,KAAKJ,GAAQ,CACZ,GAAIA,EAAK,SAAW,EAClB,MAAAD,EAAK,OAAO,UAAU,IAAI,QAAQ,EAC5B,IAAI,MAEZA,EAAK,QAAQ,UAAU,OAAO,QAAQ,EACtCA,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,QAAQ,UAAYM,EAAcL,CAAI,CACjD,CAAK,EACA,MAAM,IAAME,EAAO,CAAE,CAC1B,CAEA,SAASG,EAAcL,EAAM,CAC3B,OAAOA,EACJ,IAAIM,GACI,kCAAkCA,EAAG,WAAWA,EAAG,OAAO,GAAG;AAAA;AAAA,UAEhEA,EAAG,OAAO,GAAG;AAAA,SACdA,EAAG,OAAO,GAAG;AAAA,mCACaA,EAAG,OAAO,GAAG;AAAA,SAE3C,EACA,KAAK,EAAE,CACZ,CAEA,SAASL,EAAUD,EAAM,CACvBD,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrC,MAAMQ,EAAaP,EAAK,IAAIM,IACnB,CAAE,KAAMA,EAAG,KAAM,MAAOA,EAAG,IACnC,EACD,IAAIE,EAAW,CACb,OAAQ,gBACR,KAAMD,EACN,SAAU,CACR,gBAAiB,0BACjB,kBAAmB,oBACpB,CACL,CAAG,EACDR,EAAK,OAAO,iBAAiB,SAAUI,CAAkB,CAC3D,CAEA,SAASD,GAAU,CACjBO,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sDACT,OAAQ,EACR,SAAU,UACV,aAAc,cACd,cAAe,aACnB,CAAG,CACH"}