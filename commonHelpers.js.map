{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_eHSvO4TLSWTzYqCyrvJFZTIkNtmC5qY8lR5EzJI3CtDw9iWFM8sR8B3RRNgqKKtM';\n\nexport const fetchBreeds = async () => {\n  const BASE_URL = `https://api.thecatapi.com/v1/breeds`;\n  return axios\n    .get(BASE_URL)\n    .then(res => {\n      return res.data;\n    })\n    .catch(err => console.log(err));\n};\n\nexport const fetchCatInfo = async id => {\n  const BASE_URL = `https://api.thecatapi.com/v1/images/search?breed_ids=${id}`;\n  return axios\n    .get(BASE_URL)\n    .then(res => {\n      return res.data;\n    })\n    .catch(err => console.log(err));\n};\n","import { fetchBreeds, fetchCatInfo } from './cat-api';\n\nconst refs = {\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n};\n\nrefs.select.addEventListener('change', handleSelectSubmit);\n\nfetchBreeds()\n  .then(data => {\n    refs.select.classList.remove('hidden');\n    refs.loader.classList.add('hidden');\n    refs.select.innerHTML = selectMarkup(data);\n  })\n  .catch(() => {\n    refs.select.classList.add('hidden');\n    refs.error.classList.remove('hidden');\n  });\n\nfunction handleSelectSubmit(e) {\n  refs.error.classList.add('hidden');\n  refs.loader.classList.remove('hidden');\n  fetchCatInfo(e.target.value)\n    .then(data => {\n      if (data.length === 0) {\n        refs.loader.classList.add('hidden');\n        return new Error(error);\n      }\n      refs.loader.classList.add('hidden');\n      refs.catInfo.innerHTML = catInfoMarkup(data);\n    })\n    .catch(() => {\n      refs.error.classList.remove('hidden');\n    });\n}\n\nfunction selectMarkup(array) {\n  return array\n    .map(({ id, name }) => `<option value=${id}>${name}</option>`)\n    .join('');\n}\n\nfunction catInfoMarkup(data) {\n  return data\n    .map(el => {\n      return `<div><img src=${el.url} alt=${el.breeds[0].name} width=\"400\"><h2>${el.breeds[0].name}</h2><p>${el.breeds[0].description}</p><p>Temperament: ${el.breeds[0].temperament}</p></div>`;\n    })\n    .join('');\n}\n"],"names":["axios","fetchBreeds","BASE_URL","res","err","fetchCatInfo","id","refs","handleSelectSubmit","data","selectMarkup","e","catInfoMarkup","array","name","el"],"mappings":"svBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,MAAMC,EAAc,SAAY,CACrC,MAAMC,EAAW,sCACjB,OAAOF,EACJ,IAAIE,CAAQ,EACZ,KAAKC,GACGA,EAAI,IACZ,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,EAEaC,EAAe,MAAMC,GAAM,CACtC,MAAMJ,EAAW,wDAAwDI,IACzE,OAAON,EACJ,IAAIE,CAAQ,EACZ,KAAKC,GACGA,EAAI,IACZ,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,ECrBMG,EAAO,CACX,OAAQ,SAAS,cAAc,eAAe,EAC9C,QAAS,SAAS,cAAc,WAAW,EAC3C,OAAQ,SAAS,cAAc,SAAS,EACxC,MAAO,SAAS,cAAc,QAAQ,CACxC,EAEAA,EAAK,OAAO,iBAAiB,SAAUC,CAAkB,EAEzDP,EAAa,EACV,KAAKQ,GAAQ,CACZF,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCA,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,OAAO,UAAYG,EAAaD,CAAI,CAC7C,CAAG,EACA,MAAM,IAAM,CACXF,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,MAAM,UAAU,OAAO,QAAQ,CACxC,CAAG,EAEH,SAASC,EAAmBG,EAAG,CAC7BJ,EAAK,MAAM,UAAU,IAAI,QAAQ,EACjCA,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCF,EAAaM,EAAE,OAAO,KAAK,EACxB,KAAKF,GAAQ,CACZ,GAAIA,EAAK,SAAW,EAClB,OAAAF,EAAK,OAAO,UAAU,IAAI,QAAQ,EAC3B,IAAI,MAAM,KAAK,EAExBA,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,QAAQ,UAAYK,EAAcH,CAAI,CACjD,CAAK,EACA,MAAM,IAAM,CACXF,EAAK,MAAM,UAAU,OAAO,QAAQ,CAC1C,CAAK,CACL,CAEA,SAASG,EAAaG,EAAO,CAC3B,OAAOA,EACJ,IAAI,CAAC,CAAE,GAAAP,EAAI,KAAAQ,KAAW,iBAAiBR,KAAMQ,YAAe,EAC5D,KAAK,EAAE,CACZ,CAEA,SAASF,EAAcH,EAAM,CAC3B,OAAOA,EACJ,IAAIM,GACI,iBAAiBA,EAAG,WAAWA,EAAG,OAAO,GAAG,wBAAwBA,EAAG,OAAO,GAAG,eAAeA,EAAG,OAAO,GAAG,kCAAkCA,EAAG,OAAO,GAAG,uBACpK,EACA,KAAK,EAAE,CACZ"}